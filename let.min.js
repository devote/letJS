/**
 * letJS library 0.2
 *
 * @version 0.2
 * @author Copyright 2012-2013, <a href="mailto:spb.piksel@gmail.com">Dmitrii Pakhtinov</a>
 * date 03/30/2012
 */
(function(l,k,o){function s(a,d){var b=this.target,e=0===arguments.length,d=1<arguments.length?d:a;if(u)e?(a=b.selectionStart,d=b.selectionEnd):b.setSelectionRange(a,d);else if(v){var c=p.selection.createRange();c.parentElement()===b&&(b[f]=c.getBookmark());c=b.createTextRange();e?b[f]&&(c.moveToBookmark(b[f]),d=c.text.length,c.collapse(!0),c.moveStart("character",-b.value.length),a=c.text.length,d+=a):(c.collapse(!0),c.moveEnd("character",d),c.moveStart("character",a),c.select(),b[f]=c.getBookmark())}return[a,
d]}function q(a){return"data-let-input"===a.attr?!a.insertValue||(a.regExp||RegExp("^["+a.rule+"]+$","g")).test(a.insertValue):"data-let-template"===a.attr?(a.regExp||RegExp("("+a.rule+")","g")).test(a.expectedValue):!+a.rule||a.expectedValue.length<=+a.rule}var p=l.document,t=p.createElement("input"),u="selectionStart"in t,v="createTextRange"in t,f="__rangeBookmark";if(!("letJS"in l)){var r=l.letJS={"data-let-input":q,"data-let-template":q,"data-let-length":q};(function(a,d,b){for(var e=0;e<d.length;e++)a.addEventListener?
a.addEventListener(d[e],b,k):a.attachEvent&&a.attachEvent("on"+d[e],function(){b.call(a,l.event)})})(p.documentElement,"keypress,keydown,paste,cut,dragstart,dragenter,dragover,drop".split(","),function(a){var d=a.type,b=a.target||a.srcElement,e="",c,m;if(b&&b.nodeName in{INPUT:1,TEXTAREA:1}){var i=a.which==o?a.charCode!=o?a.charCode:a.keyCode:a.which,j=s.call({target:b}),f=j[0],j=j[1],g=f,h=j,n="value"in b?b.value:"";switch(d){case "paste":e=(e=a.clipboardData||l.clipboardData||"")&&e.getData("Text");
case "cut":break;case "keydown":i=i===46?-1:i===8?8:0;case "keypress":if(i===0||a.ctrlKey||a.altKey)return;i===8?g=g-(g==h&&g>0?1:0):i===-1?h=h+(g==h&&h<n.length?1:0):e=String.fromCharCode(i);break;case "dragstart":case "dragenter":case "dragover":case "drop":e=k;break;default:return}for(m in r)if(e===k||Object.prototype.hasOwnProperty.call(r,m)&&(c=b.getAttribute(m))!==o&&r[m].call(b,{type:d,attr:m,rule:c,target:b,selection:s,value:n,insertValue:e,cropValue:n.substring(g,h)||"",expectedValue:n.substr(0,
g<f?g:f)+e+n.substring(h>j?h:j),regExp:(c=/^\/(.*)\/(?:([igm]+))?$/.exec(c))&&RegExp(c[1],c[2])||o,insertStart:f,insertEnd:j,cropStart:g,cropEnd:h})===k){a.preventDefault?a.preventDefault():a.returnValue=k;return k}}})}})(window,!1,null);
